## ç¬¬ä¸‰éƒ¨åˆ†ï¼šå›¢é˜Ÿå‰¯æœ¬ - Git Flowå¤šäººåä½œ

### 3.1 Git Flowæ¨¡å‹ä»‹ç»ï¼šå¤šäººå‰¯æœ¬çš„æˆ˜æ–—ç­–ç•¥

åœ¨å•äººæ¸¸æˆä¸­ï¼Œä½ åªéœ€è¦ä¸€æ¡ä¸»çº¿å¾€å‰æ¨è¿›å°±è¡Œã€‚ä½†åœ¨å¤šäººåœ¨çº¿æ¸¸æˆï¼ˆMMOï¼‰ä¸­ï¼Œæƒ…å†µå°±å¤æ‚å¾—å¤šï¼š

- ğŸ† **ä¸»çº¿å‰§æƒ…**ï¼ˆmainåˆ†æ”¯ï¼‰ï¼šå·²ç»é€šå…³çš„ç¨³å®šç‰ˆæœ¬ï¼Œæ‰€æœ‰ç©å®¶éƒ½èƒ½ä½“éªŒ
- ğŸ¯ **æµ‹è¯•æœ**ï¼ˆdevelopåˆ†æ”¯ï¼‰ï¼šæ–°å†…å®¹çš„é›†ç»“åœ°ï¼Œæ­£åœ¨æµ‹è¯•ä¸­
- âš”ï¸ **æ”¯çº¿ä»»åŠ¡**ï¼ˆfeatureåˆ†æ”¯ï¼‰ï¼šä¸åŒç©å®¶åœ¨åšä¸åŒçš„ä»»åŠ¡
- ğŸ›¡ï¸ **ç´§æ€¥ä¿®å¤**ï¼ˆhotfixåˆ†æ”¯ï¼‰ï¼šä¸»çº¿å‡ºç°ä¸¥é‡bugï¼Œéœ€è¦ç«‹å³ä¿®å¤

è¿™å°±æ˜¯**Git Flowæ¨¡å‹**çš„æ ¸å¿ƒæ€æƒ³ã€‚

#### ä¸ºä»€ä¹ˆéœ€è¦åˆ†æ”¯ç®¡ç†ç­–ç•¥ï¼Ÿ

æƒ³è±¡ä¸€ä¸ªåœºæ™¯ï¼š

- å¼€å‘è€…Aæ­£åœ¨å¼€å‘ç™»å½•åŠŸèƒ½ï¼ˆ70%å®Œæˆï¼‰
- å¼€å‘è€…Bæ­£åœ¨å¼€å‘æ”¯ä»˜åŠŸèƒ½ï¼ˆ50%å®Œæˆï¼‰
- çªç„¶ï¼Œçº¿ä¸Šç‰ˆæœ¬å‘ç°ä¸¥é‡bugéœ€è¦ç«‹å³ä¿®å¤
- åŒæ—¶ï¼Œæµ‹è¯•å›¢é˜Ÿéœ€è¦ä¸€ä¸ªç¨³å®šçš„ç‰ˆæœ¬è¿›è¡Œæµ‹è¯•

å¦‚æœæ‰€æœ‰äººéƒ½åœ¨åŒä¸€ä¸ªåˆ†æ”¯ä¸Šå·¥ä½œï¼š
âŒ åŠæˆå“åŠŸèƒ½ä¼šç›¸äº’å¹²æ‰°
âŒ æ— æ³•å¿«é€Ÿä¿®å¤çº¿ä¸Šbug
âŒ æµ‹è¯•ç‰ˆæœ¬ä¸ç¨³å®š
âŒ å‘å¸ƒç‰ˆæœ¬æ··ä¹±

**Git Flowé€šè¿‡åˆ†æ”¯ç®¡ç†è§£å†³è¿™äº›é—®é¢˜ï¼š**
âœ… å„ä¸ªåŠŸèƒ½ç‹¬ç«‹å¼€å‘ï¼Œäº’ä¸å¹²æ‰°
âœ… ä¸»åˆ†æ”¯æ°¸è¿œä¿æŒç¨³å®š
âœ… å¯ä»¥éšæ—¶ç´§æ€¥ä¿®å¤çº¿ä¸Šé—®é¢˜
âœ… å‘å¸ƒæµç¨‹è§„èŒƒåŒ–

#### Git Flowå®Œæ•´æ¨¡å‹å›¾è§£

![04 Hotfix branches](./assets/04%20Hotfix%20branches-1763429251387-3.svg)

### 3.2 äº”å¤§åˆ†æ”¯ç±»å‹è¯¦è§£

#### (1) mainåˆ†æ”¯ - ä¸»çº¿å‰§æƒ…ï¼ˆæ°¸ä¹…åˆ†æ”¯ï¼‰

**è§’è‰²å®šä½ï¼š**

- ğŸ† ç”Ÿäº§ç¯å¢ƒçš„ä»£ç 
- ğŸ“¦ æ¯ä¸ªcommitéƒ½æ˜¯ä¸€ä¸ªå‘å¸ƒç‰ˆæœ¬
- âœ… æ°¸è¿œä¿æŒç¨³å®šï¼Œå¯ä»¥éšæ—¶éƒ¨ç½²

**ç‰¹ç‚¹ï¼š**

- **æ°¸ä¹…å­˜åœ¨**ï¼Œä¸ä¼šè¢«åˆ é™¤
- **åªæ¥å—åˆå¹¶**ï¼Œä¸ç›´æ¥åœ¨ä¸Šé¢å¼€å‘
- æ¯æ¬¡åˆå¹¶éƒ½åº”è¯¥æ‰“ä¸Šç‰ˆæœ¬æ ‡ç­¾ï¼ˆå¦‚v1.0.0ï¼‰

**æ¸¸æˆç±»æ¯”ï¼š**
å°±åƒæ¸¸æˆçš„æ­£å¼æœåŠ¡å™¨ï¼Œåªæœ‰ç»è¿‡å……åˆ†æµ‹è¯•çš„å†…å®¹æ‰èƒ½ä¸Šçº¿ï¼Œç©å®¶ç©çš„éƒ½æ˜¯è¿™ä¸ªç‰ˆæœ¬ã€‚

**æ“ä½œå‘½ä»¤ï¼š**

```bash
# æŸ¥çœ‹mainåˆ†æ”¯çš„å†å²
git log main --oneline

# æŸ¥çœ‹mainåˆ†æ”¯çš„æ ‡ç­¾
git tag -l

# åˆ‡æ¢åˆ°mainåˆ†æ”¯
git checkout main
```

**ä¿æŠ¤è§„åˆ™ï¼ˆåœ¨Giteaä¸­è®¾ç½®ï¼‰ï¼š**

- ğŸ”’ ç¦æ­¢ç›´æ¥push
- ğŸ”’ å¿…é¡»é€šè¿‡Pull Requeståˆå¹¶
- ğŸ”’ éœ€è¦ä»£ç å®¡æŸ¥é€šè¿‡
- ğŸ”’ å¿…é¡»é€šè¿‡CI/CDæµ‹è¯•

#### (2) developåˆ†æ”¯ - å¼€å‘æœåŠ¡å™¨ï¼ˆæ°¸ä¹…åˆ†æ”¯ï¼‰

**è§’è‰²å®šä½ï¼š**

- ğŸ¯ å¼€å‘ç¯å¢ƒçš„ä»£ç 
- ğŸ”„ é›†æˆæ‰€æœ‰å¼€å‘å®Œæˆçš„åŠŸèƒ½
- ğŸ“Š åæ˜ æœ€æ–°çš„å¼€å‘è¿›åº¦

**ç‰¹ç‚¹ï¼š**

- **æ°¸ä¹…å­˜åœ¨**ï¼Œä¸ä¼šè¢«åˆ é™¤
- **æ¥å—featureåˆ†æ”¯åˆå¹¶**
- å¯èƒ½ä¸ç¨³å®šï¼Œä½†åº”è¯¥æ˜¯å¯è¿è¡Œçš„

**æ¸¸æˆç±»æ¯”ï¼š**
å°±åƒæ¸¸æˆçš„æµ‹è¯•æœï¼Œæ–°åŠŸèƒ½ä¼šå…ˆåœ¨è¿™é‡Œé›†æˆï¼Œæœ‰é—®é¢˜å¯ä»¥ç»§ç»­ä¿®æ”¹ï¼Œç¨³å®šåæ‰ä¼šæ¨åˆ°æ­£å¼æœã€‚

![01 How it works](./assets/01%20How%20it%20works.svg)

**åˆ›å»ºdevelopåˆ†æ”¯ï¼š**

```bash
# ä»mainåˆ›å»ºdevelopåˆ†æ”¯
git checkout main
git checkout -b develop

# æ¨é€åˆ°è¿œç¨‹
git push -u origin develop
```

**æ—¥å¸¸æ“ä½œï¼š**

```bash
# åˆ‡æ¢åˆ°develop
git checkout develop

# æ‹‰å–æœ€æ–°ä»£ç 
git pull

# æŸ¥çœ‹developçš„æäº¤å†å²
git log develop --oneline
```

#### (3) featureåˆ†æ”¯ - æ”¯çº¿ä»»åŠ¡ï¼ˆä¸´æ—¶åˆ†æ”¯ï¼‰

**è§’è‰²å®šä½ï¼š**

- âš”ï¸ å¼€å‘å…·ä½“åŠŸèƒ½
- ğŸ‘¤ é€šå¸¸ä¸€ä¸ªäººè´Ÿè´£ä¸€ä¸ªfeature
- ğŸ¯ å®Œæˆååˆå¹¶åˆ°developï¼Œç„¶ååˆ é™¤

**å‘½åè§„èŒƒï¼š**

```
feature/åŠŸèƒ½åç§°
feature/issueç¼–å·-åŠŸèƒ½åç§°
```

**ç¤ºä¾‹ï¼š**

- `feature/user-login`
- `feature/payment-integration`
- `feature/issue-123-add-search`

æ¸¸æˆç±»æ¯”ï¼š

å¼€å¾ˆå¤šä¸ªæ”¯çº¿ä»»åŠ¡ï¼Œç„¶åå†æŠŠæ”¯çº¿ä»»åŠ¡é‡Œçš„å¥–åŠ±æ‹¿åˆ°ä¹‹åå†å›åˆ°ä¸»çº¿ã€‚ï¼ˆå¯¹åº”åŸç¥ä¸­çš„ï¼Œå…ˆå®Œæˆæ¯æ—¥ä»»åŠ¡æŠ½å¡æŠ½è§’è‰²ï¼Œå†å»åšä¸»çº¿çš„é­”ç¥ä»»åŠ¡ã€‚ï¼‰

![02 Feature branches](./assets/02%20Feature%20branches.svg)

**å®Œæ•´æµç¨‹ï¼š**

**ç¬¬1æ­¥ï¼šåˆ›å»ºfeatureåˆ†æ”¯**

```bash
# ç¡®ä¿developæ˜¯æœ€æ–°çš„
git checkout develop
git pull

# ä»developåˆ›å»ºæ–°çš„featureåˆ†æ”¯
git checkout -b feature/user-login

# æ¨é€åˆ°è¿œç¨‹
git push -u origin feature/user-login
```

**ç¬¬2æ­¥ï¼šåœ¨featureåˆ†æ”¯ä¸Šå¼€å‘**

```bash
# å¼€å‘åŠŸèƒ½...
# ç¼–è¾‘æ–‡ä»¶

# æäº¤ä»£ç 
git add .
git commit -m "feat: å®ç°ç”¨æˆ·ç™»å½•è¡¨å•"

# ç»§ç»­å¼€å‘...
git add .
git commit -m "feat: æ·»åŠ ç™»å½•éªŒè¯é€»è¾‘"

# æ¨é€åˆ°è¿œç¨‹
git push
```

**ç¬¬3æ­¥ï¼šå®šæœŸåŒæ­¥developçš„æ›´æ–°**

å¦‚æœdevelopåˆ†æ”¯æœ‰æ–°çš„æ›´æ–°ï¼Œéœ€è¦å®šæœŸåˆå¹¶ï¼Œé¿å…åˆ†æ”¯å·®å¼‚å¤ªå¤§ï¼š

```bash
# æ–¹æ³•1ï¼šmergeï¼ˆä¿ç•™å®Œæ•´å†å²ï¼‰
git checkout feature/user-login
git merge develop

# æ–¹æ³•2ï¼šrebaseï¼ˆä¿æŒçº¿æ€§å†å²ï¼Œæ¨èï¼‰
git checkout feature/user-login
git rebase develop
```

**ç¬¬4æ­¥ï¼šåŠŸèƒ½å®Œæˆï¼Œå‡†å¤‡åˆå¹¶**

åœ¨Giteaä¸Šåˆ›å»ºPull Requestï¼ˆåé¢è¯¦ç»†è®²ï¼‰ï¼Œæˆ–è€…ç›´æ¥åˆå¹¶ï¼š

```bash
# åˆ‡æ¢åˆ°develop
git checkout develop
git pull

# åˆå¹¶featureåˆ†æ”¯
git merge --no-ff feature/user-login

# æ¨é€åˆ°è¿œç¨‹
git push

# åˆ é™¤æœ¬åœ°featureåˆ†æ”¯
git branch -d feature/user-login

# åˆ é™¤è¿œç¨‹featureåˆ†æ”¯
git push origin --delete feature/user-login
```

> ğŸ’¡ **æç¤º**ï¼š`--no-ff` å‚æ•°è¡¨ç¤º"ä¸ä½¿ç”¨å¿«è¿›åˆå¹¶"ï¼Œä¼šåˆ›å»ºä¸€ä¸ªåˆå¹¶commitï¼Œä¿ç•™åˆ†æ”¯å†å²ã€‚

**å®æˆ˜ç¤ºä¾‹ï¼šå¼€å‘ä¸€ä¸ªæœç´¢åŠŸèƒ½**

```bash
# 1. åˆ›å»ºåˆ†æ”¯
git checkout develop
git pull
git checkout -b feature/search-function

# 2. ç¬¬ä¸€æ¬¡æäº¤ï¼šåˆ›å»ºæœç´¢ç»„ä»¶
# ç¼–è¾‘ search.py
git add search.py
git commit -m "feat: åˆ›å»ºæœç´¢åŠŸèƒ½åŸºç¡€æ¡†æ¶"

# 3. ç¬¬äºŒæ¬¡æäº¤ï¼šå®ç°æœç´¢é€»è¾‘
# ç¼–è¾‘ search.py
git add search.py
git commit -m "feat: å®ç°åŸºäºå…³é”®è¯çš„æœç´¢é€»è¾‘"

# 4. ç¬¬ä¸‰æ¬¡æäº¤ï¼šæ·»åŠ æµ‹è¯•
# åˆ›å»º test_search.py
git add test_search.py
git commit -m "test: æ·»åŠ æœç´¢åŠŸèƒ½çš„å•å…ƒæµ‹è¯•"

# 5. æ¨é€åˆ°è¿œç¨‹
git push -u origin feature/search-function

# 6. åœ¨Giteaä¸Šåˆ›å»ºPRï¼ˆPull Requestï¼‰
# è¯·æ±‚åˆå¹¶åˆ°developåˆ†æ”¯

# 7. PRåˆå¹¶åï¼Œåˆ é™¤åˆ†æ”¯
git checkout develop
git pull
git branch -d feature/search-function
git push origin --delete feature/search-function
```

#### (4) releaseåˆ†æ”¯ - æµ‹è¯•æœï¼ˆä¸´æ—¶åˆ†æ”¯ï¼‰

**è§’è‰²å®šä½ï¼š**

- ğŸ® å‡†å¤‡å‘å¸ƒæ–°ç‰ˆæœ¬
- ğŸ” æœ€åçš„æµ‹è¯•å’Œbugä¿®å¤
- ğŸ“ æ›´æ–°ç‰ˆæœ¬å·å’Œæ–‡æ¡£

**å‘½åè§„èŒƒï¼š**

```
release/ç‰ˆæœ¬å·
```

**ç¤ºä¾‹ï¼š**

- `release/1.0.0`
- `release/2.1.0`
- `release/v1.5.0-beta`

**ä»€ä¹ˆæ—¶å€™åˆ›å»ºreleaseåˆ†æ”¯ï¼Ÿ**

å½“developåˆ†æ”¯ç§¯ç´¯äº†è¶³å¤Ÿçš„åŠŸèƒ½ï¼Œå‡†å¤‡å‘å¸ƒæ–°ç‰ˆæœ¬æ—¶ï¼š

- âœ… æ‰€æœ‰è®¡åˆ’çš„featureéƒ½å·²åˆå¹¶åˆ°develop
- âœ… developåˆ†æ”¯ç›¸å¯¹ç¨³å®š
- âœ… å‡†å¤‡å¥½å‘å¸ƒç»™ç”¨æˆ·

**å®Œæ•´æµç¨‹ï¼š**

**ç¬¬1æ­¥ï¼šä»developåˆ›å»ºreleaseåˆ†æ”¯**

```bash
# åˆ‡æ¢åˆ°developï¼Œç¡®ä¿æœ€æ–°
git checkout develop
git pull

# åˆ›å»ºreleaseåˆ†æ”¯
git checkout -b release/1.0.0

# æ¨é€åˆ°è¿œç¨‹
git push -u origin release/1.0.0
```

**ç¬¬2æ­¥ï¼šåœ¨releaseåˆ†æ”¯ä¸Šè¿›è¡Œæœ€åçš„ä¿®æ”¹**

åªåš**ç‰ˆæœ¬ç›¸å…³çš„ä¿®æ”¹**ï¼Œä¸æ·»åŠ æ–°åŠŸèƒ½ï¼š

```bash
# æ›´æ–°ç‰ˆæœ¬å·
echo "VERSION = '1.0.0'" > version.py
git add version.py
git commit -m "chore: æ›´æ–°ç‰ˆæœ¬å·ä¸º1.0.0"

# ä¿®å¤æµ‹è¯•ä¸­å‘ç°çš„å°bug
# ç¼–è¾‘æ–‡ä»¶...
git add .
git commit -m "fix: ä¿®å¤ç™»å½•é¡µé¢çš„æ˜¾ç¤ºé—®é¢˜"

# æ›´æ–°CHANGELOG
echo "## v1.0.0 (2025-11-17)" > CHANGELOG.md
echo "- æ–°å¢ç”¨æˆ·ç™»å½•åŠŸèƒ½" >> CHANGELOG.md
echo "- æ–°å¢æœç´¢åŠŸèƒ½" >> CHANGELOG.md
git add CHANGELOG.md
git commit -m "docs: æ›´æ–°CHANGELOG for v1.0.0"
```

**ç¬¬3æ­¥ï¼šå®Œæˆæµ‹è¯•ï¼Œå‡†å¤‡å‘å¸ƒ**

æµ‹è¯•å›¢é˜Ÿåœ¨releaseåˆ†æ”¯ä¸Šè¿›è¡Œå®Œæ•´æµ‹è¯•ï¼Œå‘ç°çš„bugåœ¨è¿™ä¸ªåˆ†æ”¯ä¸Šä¿®å¤ã€‚

**ç¬¬4æ­¥ï¼šåˆå¹¶åˆ°mainå’Œdevelop**

```bash
# åˆå¹¶åˆ°mainï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
git checkout main
git pull
git merge --no-ff release/1.0.0
git tag -a v1.0.0 -m "Release version 1.0.0"
git push
git push --tags

# åˆå¹¶åˆ°developï¼ˆåŒæ­¥bugä¿®å¤ï¼‰
git checkout develop
git pull
git merge --no-ff release/1.0.0
git push

# åˆ é™¤releaseåˆ†æ”¯
git branch -d release/1.0.0
git push origin --delete release/1.0.0
```

**æµç¨‹å›¾ï¼š**

![03 Release branches](./assets/03%20Release%20branches.svg)

#### (5) hotfixåˆ†æ”¯ - ç´§æ€¥ä¿®å¤ï¼ˆä¸´æ—¶åˆ†æ”¯ï¼‰

**è§’è‰²å®šä½ï¼š**

- ğŸš¨ ä¿®å¤ç”Ÿäº§ç¯å¢ƒçš„ç´§æ€¥bug
- âš¡ ä¸ç­‰å¾…developçš„å¼€å‘å‘¨æœŸ
- ğŸ¯ ä¿®å¤åç«‹å³å‘å¸ƒ

**å‘½åè§„èŒƒï¼š**

```
hotfix/é—®é¢˜æè¿°
hotfix/bugç¼–å·-é—®é¢˜æè¿°
```

**ç¤ºä¾‹ï¼š**

- `hotfix/login-crash`
- `hotfix/payment-error`
- `hotfix/issue-456-fix-security`

**ä»€ä¹ˆæ—¶å€™ä½¿ç”¨hotfixï¼Ÿ**

- ğŸ”¥ ç”Ÿäº§ç¯å¢ƒå‡ºç°ä¸¥é‡bug
- ğŸš¨ å®‰å…¨æ¼æ´éœ€è¦ç«‹å³ä¿®å¤
- â° ä¸èƒ½ç­‰å¾…æ­£å¸¸çš„å‘å¸ƒå‘¨æœŸ

**å®Œæ•´æµç¨‹ï¼š**

**ç¬¬1æ­¥ï¼šä»mainåˆ›å»ºhotfixåˆ†æ”¯**

```bash
# åˆ‡æ¢åˆ°main
git checkout main
git pull

# åˆ›å»ºhotfixåˆ†æ”¯
git checkout -b hotfix/login-crash

# æ¨é€åˆ°è¿œç¨‹
git push -u origin hotfix/login-crash
```

**ç¬¬2æ­¥ï¼šä¿®å¤bug**

```bash
# ä¿®å¤bug
# ç¼–è¾‘ç›¸å…³æ–‡ä»¶...

git add .
git commit -m "fix: ä¿®å¤ç™»å½•æ—¶çš„å´©æºƒé—®é¢˜"

# æµ‹è¯•ä¿®å¤
# è¿è¡Œæµ‹è¯•...

git push
```

**ç¬¬3æ­¥ï¼šåˆå¹¶åˆ°mainå’Œdevelop**

```bash
# åˆå¹¶åˆ°main
git checkout main
git pull
git merge --no-ff hotfix/login-crash

# æ›´æ–°ç‰ˆæœ¬å·ï¼ˆè¡¥ä¸ç‰ˆæœ¬ï¼‰
git tag -a v1.0.1 -m "Hotfix: ä¿®å¤ç™»å½•å´©æºƒ"
git push
git push --tags

# åˆå¹¶åˆ°develop
git checkout develop
git pull
git merge --no-ff hotfix/login-crash
git push

# åˆ é™¤hotfixåˆ†æ”¯
git branch -d hotfix/login-crash
git push origin --delete hotfix/login-crash
```

**æµç¨‹å›¾ï¼š**

![04 Hotfix branches](./assets/04%20Hotfix%20branches-1763429946875-11.svg)

#### åˆ†æ”¯ç±»å‹å¯¹æ¯”è¡¨

| åˆ†æ”¯ç±»å‹          | ç”Ÿå‘½å‘¨æœŸ | ä»å“ªé‡Œåˆ†æ”¯ | åˆå¹¶åˆ°å“ªé‡Œ     | å‘½åè§„èŒƒ          | ç”¨é€”               |
| ----------------- | -------- | ---------- | -------------- | ----------------- | ------------------ |
| **main**    | æ°¸ä¹…     | -          | -              | `main`          | ç”Ÿäº§ç¯å¢ƒï¼Œæ­£å¼å‘å¸ƒ |
| **develop** | æ°¸ä¹…     | main       | -              | `develop`       | å¼€å‘ç¯å¢ƒï¼ŒåŠŸèƒ½é›†æˆ |
| **feature** | ä¸´æ—¶     | develop    | develop        | `feature/xxx`   | å¼€å‘æ–°åŠŸèƒ½         |
| **release** | ä¸´æ—¶     | develop    | main & develop | `release/x.x.x` | å‡†å¤‡å‘å¸ƒç‰ˆæœ¬       |
| **hotfix**  | ä¸´æ—¶     | main       | main & develop | `hotfix/xxx`    | ç´§æ€¥ä¿®å¤bug        |

### 3.3 Issueé©±åŠ¨å¼€å‘æµç¨‹ï¼šä»»åŠ¡ç³»ç»Ÿ

åœ¨æ¸¸æˆä¸­ï¼Œæ‰€æœ‰ä»»åŠ¡éƒ½ä»ä»»åŠ¡æ¿å¼€å§‹ã€‚åœ¨ä»£ç åä½œä¸­ï¼Œæ‰€æœ‰å·¥ä½œéƒ½åº”è¯¥ä»Issueå¼€å§‹ã€‚

#### ä»€ä¹ˆæ˜¯Issueï¼Ÿ

**Issue**ï¼ˆè®®é¢˜ï¼‰æ˜¯Giteaçš„ä»»åŠ¡ç®¡ç†ç³»ç»Ÿï¼Œå¯ä»¥ç”¨æ¥ï¼š

- ğŸ“ æŠ¥å‘Šbug
- ğŸ’¡ æå‡ºæ–°åŠŸèƒ½å»ºè®®
- ğŸ“‹ è®°å½•å¾…åŠäº‹é¡¹
- ğŸ’¬ è®¨è®ºæŠ€æœ¯æ–¹æ¡ˆ

**æ¸¸æˆç±»æ¯”ï¼š**
Issueå°±åƒä»»åŠ¡æ¿ï¼Œæ¯ä¸ªIssueéƒ½æ˜¯ä¸€ä¸ªä»»åŠ¡ï¼Œä½ æ¥å—ä»»åŠ¡ï¼ˆåˆ†é…ç»™è‡ªå·±ï¼‰ï¼Œå®Œæˆä»»åŠ¡ï¼ˆå…³é—­Issueï¼‰ã€‚

#### åœ¨Giteaåˆ›å»ºå·¥å•(Issue)

![image-20251118094308181](./assets/image-20251118094308181.png)

**æ­¥éª¤è¯¦è§£ï¼š**

1. **è¿›å…¥é¡¹ç›®ä»“åº“**

   - æ‰“å¼€é¡¹ç›®é¡µé¢
2. **ç‚¹å‡»"Issues"æ ‡ç­¾**

   - åœ¨é¡¶éƒ¨å¯¼èˆªæ æ‰¾åˆ°"Issues"
3. **ç‚¹å‡»"æ–°å»ºIssue"æŒ‰é’®**
4. **å¡«å†™Issueä¿¡æ¯ï¼š**

   **æ ‡é¢˜**ï¼ˆå¿…å¡«ï¼‰ï¼šç®€æ´æ˜äº†åœ°æè¿°é—®é¢˜

   ```
   å¥½çš„ä¾‹å­ï¼š
   - ç™»å½•é¡µé¢åœ¨ç§»åŠ¨ç«¯æ˜¾ç¤ºå¼‚å¸¸
   - æ·»åŠ æ”¯ä»˜å®æ”¯ä»˜æ–¹å¼
   - ä¼˜åŒ–æœç´¢æ€§èƒ½

   ä¸å¥½çš„ä¾‹å­ï¼š
   - æœ‰bug
   - ä¿®æ”¹ä¸€ä¸‹
   - é—®é¢˜
   ```

   **æè¿°**ï¼ˆè¯¦ç»†ä¿¡æ¯ï¼‰ï¼š

   ```markdown
   ## é—®é¢˜æè¿°
   ç”¨æˆ·åœ¨ç§»åŠ¨ç«¯è®¿é—®ç™»å½•é¡µé¢æ—¶ï¼Œè¡¨å•æ˜¾ç¤ºä¸å®Œæ•´ã€‚

   ## å¤ç°æ­¥éª¤
   1. æ‰“å¼€æ‰‹æœºæµè§ˆå™¨
   2. è®¿é—®ç™»å½•é¡µé¢
   3. è§‚å¯Ÿè¡¨å•æ˜¾ç¤º

   ## é¢„æœŸè¡Œä¸º
   è¡¨å•åº”è¯¥å®Œæ•´æ˜¾ç¤ºå¹¶è‡ªé€‚åº”å±å¹•å®½åº¦

   ## å®é™…è¡Œä¸º
   è¡¨å•å³ä¾§è¢«æˆªæ–­

   ## ç¯å¢ƒä¿¡æ¯
   - è®¾å¤‡ï¼šiPhone 13
   - æµè§ˆå™¨ï¼šSafari 16
   - ç³»ç»Ÿç‰ˆæœ¬ï¼šiOS 16

   ## æˆªå›¾
   ï¼ˆå¯ä»¥æ‹–æ‹½å›¾ç‰‡åˆ°è¿™é‡Œï¼‰
   ```

   **æ ‡ç­¾**ï¼ˆLabelsï¼‰ï¼šåˆ†ç±»Issue

   - `bug`ï¼šç¨‹åºé”™è¯¯
   - `feature`ï¼šæ–°åŠŸèƒ½
   - `enhancement`ï¼šåŠŸèƒ½æ”¹è¿›
   - `documentation`ï¼šæ–‡æ¡£ç›¸å…³
   - `question`ï¼šç–‘é—®
   - `help wanted`ï¼šéœ€è¦å¸®åŠ©
   - `priority:high`ï¼šé«˜ä¼˜å…ˆçº§

   **é‡Œç¨‹ç¢‘**ï¼ˆMilestoneï¼‰ï¼šç‰ˆæœ¬è§„åˆ’

   - `v1.0.0`ï¼šç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬
   - `v1.1.0`ï¼šä¸‹ä¸€ä¸ªå°ç‰ˆæœ¬
   - `Q1-2025`ï¼šç¬¬ä¸€å­£åº¦ç›®æ ‡

   **æŒ‡æ´¾**ï¼ˆAssigneesï¼‰ï¼šåˆ†é…ç»™è°

   - æŒ‡å®šè´Ÿè´£äºº

   **åˆ°æœŸæ—¥æœŸ**ï¼šè®¾ç½®æˆªæ­¢æ—¶é—´
5. **ç‚¹å‡»"åˆ›å»ºIssue"**

#### Issueç»„æˆè¦ç´ ç¤ºä¾‹

**Issue #123ï¼šæ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½**

```
æ ‡é¢˜ï¼šæ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½

æ ‡ç­¾ï¼šfeature, priority:high
é‡Œç¨‹ç¢‘ï¼šv1.0.0
æŒ‡æ´¾ç»™ï¼š@zhangsan
åˆ°æœŸæ—¶é—´ï¼š2025-11-30

æè¿°ï¼š
## éœ€æ±‚èƒŒæ™¯
ç›®å‰ç³»ç»Ÿåªæœ‰ç™»å½•åŠŸèƒ½ï¼Œéœ€è¦æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ã€‚

## åŠŸèƒ½è¦æ±‚
1. æ³¨å†Œè¡¨å•åŒ…å«ï¼š
   - ç”¨æˆ·åï¼ˆå¿…å¡«ï¼Œ3-20å­—ç¬¦ï¼‰
   - é‚®ç®±ï¼ˆå¿…å¡«ï¼Œéœ€éªŒè¯æ ¼å¼ï¼‰
   - å¯†ç ï¼ˆå¿…å¡«ï¼Œè‡³å°‘8ä½ï¼‰
   - ç¡®è®¤å¯†ç ï¼ˆå¿…å¡«ï¼Œéœ€åŒ¹é…ï¼‰

2. éªŒè¯é€»è¾‘ï¼š
   - ç”¨æˆ·åä¸èƒ½é‡å¤
   - é‚®ç®±ä¸èƒ½é‡å¤
   - å¯†ç å¼ºåº¦æ£€æŸ¥

3. æˆåŠŸåè‡ªåŠ¨ç™»å½•å¹¶è·³è½¬åˆ°é¦–é¡µ

## æŠ€æœ¯æ–¹æ¡ˆ
- å‰ç«¯ï¼šä½¿ç”¨Vue.jså®ç°è¡¨å•
- åç«¯ï¼šæ·»åŠ  /api/register æ¥å£
- æ•°æ®åº“ï¼šåœ¨usersè¡¨ä¸­æ·»åŠ è®°å½•

## éªŒæ”¶æ ‡å‡†
- [ ] è¡¨å•éªŒè¯æ­£ç¡®
- [ ] é‡å¤æ£€æŸ¥ç”Ÿæ•ˆ
- [ ] æ³¨å†ŒæˆåŠŸåè‡ªåŠ¨ç™»å½•
- [ ] æ·»åŠ å•å…ƒæµ‹è¯•
- [ ] æ›´æ–°APIæ–‡æ¡£

è¯„è®ºåŒºï¼š
@lisi: æˆ‘å»ºè®®æ·»åŠ é‚®ç®±éªŒè¯åŠŸèƒ½
@zhangsan: å¥½çš„ï¼Œé‚®ç®±éªŒè¯æ”¾åœ¨v1.1ç‰ˆæœ¬
```

#### Issueä¸åˆ†æ”¯çš„å…³è”

åˆ›å»ºåˆ†æ”¯æ—¶ï¼Œåˆ†æ”¯ååŒ…å«Issueç¼–å·ï¼š

```bash
# Issue #123: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½
git checkout develop
git checkout -b feature/issue-123-user-registration
git push -u origin feature/issue-123-user-registration
```

#### Issueç¼–å·åœ¨commitä¸­çš„å¼•ç”¨

åœ¨æäº¤ä¿¡æ¯ä¸­å¼•ç”¨Issueç¼–å·ï¼ŒGiteaä¼šè‡ªåŠ¨å…³è”ï¼š

```bash
git commit -m "feat: å®ç°æ³¨å†Œè¡¨å• #123"
git commit -m "feat: æ·»åŠ æ³¨å†ŒAPIæ¥å£ (#123)"
git commit -m "test: æ·»åŠ æ³¨å†ŒåŠŸèƒ½æµ‹è¯• (fixes #123)"
```

**ç‰¹æ®Šå…³é”®è¯å¯ä»¥è‡ªåŠ¨å…³é—­Issueï¼š**

- `fixes #123`
- `closes #123`
- `resolves #123`

å½“åŒ…å«è¿™äº›å…³é”®è¯çš„commitè¢«åˆå¹¶åˆ°mainåˆ†æ”¯æ—¶ï¼Œå¯¹åº”çš„Issueä¼šè‡ªåŠ¨å…³é—­ã€‚

```bash
git commit -m "feat: å®Œæˆç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼Œfixes #123"
```

#### Issueå·¥ä½œæµç¨‹

```
1. åˆ›å»ºIssue
   â†“
2. è®¨è®ºæŠ€æœ¯æ–¹æ¡ˆ
   ï¼ˆåœ¨è¯„è®ºåŒºï¼‰
   â†“
3. åˆ†é…ç»™å¼€å‘è€…
   â†“
4. å¼€å‘è€…åˆ›å»ºfeatureåˆ†æ”¯
   ï¼ˆfeature/issue-123-xxxï¼‰
   â†“
5. å¼€å‘è¿‡ç¨‹ä¸­æäº¤
   ï¼ˆcommit messageå¼•ç”¨#123ï¼‰
   â†“
6. åˆ›å»ºPull Request
   ï¼ˆå…³è”Issueï¼‰
   â†“
7. ä»£ç å®¡æŸ¥
   â†“
8. åˆå¹¶PR
   â†“
9. Issueè‡ªåŠ¨å…³é—­
   âœ“ ä»»åŠ¡å®Œæˆ
```

### 3.4 Pull Requestå®Œæ•´æµç¨‹ï¼šä»£ç å®¡æŸ¥ç³»ç»Ÿ

**Pull Requestï¼ˆPRï¼‰**æ˜¯Gitåä½œçš„æ ¸å¿ƒæœºåˆ¶ï¼Œå°±åƒå‘ä¸»çº¿å‰§æƒ…æäº¤ä½ çš„æ”¯çº¿ä»»åŠ¡æˆæœã€‚

#### PRçš„æ¦‚å¿µå’Œä½œç”¨

**ä»€ä¹ˆæ˜¯Pull Requestï¼Ÿ**

- ğŸ“¤ è¯·æ±‚å°†ä½ çš„åˆ†æ”¯åˆå¹¶åˆ°ç›®æ ‡åˆ†æ”¯
- ğŸ‘€ è®©å›¢é˜Ÿæˆå‘˜å®¡æŸ¥ä½ çš„ä»£ç 
- ğŸ’¬ è®¨è®ºå’Œæ”¹è¿›ä»£ç è´¨é‡
- âœ… é€šè¿‡åæ‰èƒ½åˆå¹¶

**æ¸¸æˆç±»æ¯”ï¼š**
ä½ å®Œæˆäº†ä¸€ä¸ªæ”¯çº¿ä»»åŠ¡ï¼Œç°åœ¨è¦å‘æ¸¸æˆç­–åˆ’æäº¤ä½ çš„æˆæœã€‚ç­–åˆ’ä¼šæ£€æŸ¥ä½ çš„ä»»åŠ¡æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œæœ‰é—®é¢˜ä¼šè®©ä½ ä¿®æ”¹ï¼Œæ²¡é—®é¢˜å°±ä¼šæ¥å—å¹¶åŠ å…¥ä¸»çº¿å‰§æƒ…ã€‚

#### åˆ›å»ºPRçš„å®Œæ•´æ­¥éª¤

**å‰ç½®æ¡ä»¶ï¼š**
ä½ å·²ç»åœ¨featureåˆ†æ”¯ä¸Šå®Œæˆäº†å¼€å‘ï¼Œå¹¶æ¨é€åˆ°è¿œç¨‹ã€‚

```bash
# ç¡®ä¿æ‰€æœ‰æ”¹åŠ¨éƒ½å·²æäº¤å¹¶æ¨é€
git add .
git commit -m "feat: å®Œæˆç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ #123"
git push
```

**åœ¨Giteaç½‘é¡µä¸Šåˆ›å»ºPRï¼š**

**ç¬¬1æ­¥ï¼šè¿›å…¥Pull Requestsé¡µé¢**

- è¿›å…¥é¡¹ç›®ä»“åº“
- ç‚¹å‡»é¡¶éƒ¨"Pull Requests"æ ‡ç­¾
- ç‚¹å‡»"åˆ›å»ºPull Request"æŒ‰é’®

**ç¬¬2æ­¥ï¼šé€‰æ‹©åˆ†æ”¯**

```
æºåˆ†æ”¯ï¼ˆè¦åˆå¹¶çš„ï¼‰: feature/issue-123-user-registration
ç›®æ ‡åˆ†æ”¯ï¼ˆåˆå¹¶åˆ°ï¼‰: develop
```

**ç¬¬3æ­¥ï¼šå¡«å†™PRä¿¡æ¯**

**æ ‡é¢˜**ï¼šç®€æ´æè¿°è¿™ä¸ªPRçš„å†…å®¹

```
å¥½çš„ä¾‹å­ï¼š
- feat: æ·»åŠ ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ (#123)
- fix: ä¿®å¤ç™»å½•é¡µé¢ç§»åŠ¨ç«¯æ˜¾ç¤ºé—®é¢˜ (#124)
- refactor: é‡æ„ç”¨æˆ·è®¤è¯æ¨¡å— (#125)

ä¸å¥½çš„ä¾‹å­ï¼š
- æ›´æ–°
- ä¿®æ”¹äº†ä¸€äº›ä¸œè¥¿
- PR
```

**æè¿°**ï¼ˆéå¸¸é‡è¦ï¼ï¼‰ï¼šä½¿ç”¨æ¨¡æ¿

```markdown
## ç›¸å…³Issue
Closes #123

## æ”¹åŠ¨è¯´æ˜
æœ¬PRå®ç°äº†ç”¨æˆ·æ³¨å†ŒåŠŸèƒ½ï¼ŒåŒ…æ‹¬ï¼š
- å‰ç«¯æ³¨å†Œè¡¨å•åŠéªŒè¯
- åç«¯æ³¨å†ŒAPIæ¥å£
- ç”¨æˆ·ä¿¡æ¯çš„æ•°æ®åº“å­˜å‚¨
- é‡å¤æ£€æŸ¥é€»è¾‘
- å•å…ƒæµ‹è¯•

## æŠ€æœ¯ç»†èŠ‚
- ä½¿ç”¨bcryptåŠ å¯†å¯†ç 
- ä½¿ç”¨æ­£åˆ™è¡¨è¾¾å¼éªŒè¯é‚®ç®±æ ¼å¼
- æ·»åŠ äº†ç”¨æˆ·åå’Œé‚®ç®±çš„å”¯ä¸€ç´¢å¼•

## æµ‹è¯•æƒ…å†µ
- [x] å•å…ƒæµ‹è¯•é€šè¿‡ï¼ˆè¦†ç›–ç‡85%ï¼‰
- [x] æœ¬åœ°æ‰‹åŠ¨æµ‹è¯•é€šè¿‡
- [x] é›†æˆæµ‹è¯•é€šè¿‡

## æˆªå›¾/æ¼”ç¤º
ï¼ˆå¦‚æœæ˜¯UIæ”¹åŠ¨ï¼Œé™„ä¸Šæˆªå›¾æˆ–GIFï¼‰

## æ£€æŸ¥æ¸…å•
- [x] ä»£ç éµå¾ªé¡¹ç›®è§„èŒƒ
- [x] æ·»åŠ äº†å¿…è¦çš„æ³¨é‡Š
- [x] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£
- [x] æ·»åŠ äº†æµ‹è¯•ç”¨ä¾‹
- [x] æ‰€æœ‰æµ‹è¯•é€šè¿‡
- [x] æ²¡æœ‰æ–°çš„è­¦å‘Š

## éœ€è¦ç‰¹åˆ«æ³¨æ„çš„åœ°æ–¹
å¯†ç åŠ å¯†ä½¿ç”¨äº†bcryptï¼Œæ€§èƒ½ç›¸å¯¹è¾ƒæ…¢ï¼Œä½†å®‰å…¨æ€§æ›´é«˜ã€‚

## åç»­å·¥ä½œ
é‚®ç®±éªŒè¯åŠŸèƒ½å°†åœ¨#124ä¸­å®ç°ã€‚
```

**ç¬¬4æ­¥ï¼šè®¾ç½®PRé€‰é¡¹**

- **æŒ‡æ´¾å®¡æŸ¥è€…**ï¼ˆReviewersï¼‰ï¼šé€‰æ‹©è°æ¥å®¡æŸ¥ä»£ç 
- **å…³è”Issue**ï¼šåœ¨æè¿°ä¸­ä½¿ç”¨ `Closes #123`
- **æ ‡ç­¾**ï¼šæ·»åŠ ç›¸å…³æ ‡ç­¾ï¼ˆå¦‚ `feature`ï¼‰
- **é‡Œç¨‹ç¢‘**ï¼šå…³è”åˆ°ç‰ˆæœ¬é‡Œç¨‹ç¢‘

**ç¬¬5æ­¥ï¼šåˆ›å»ºPull Request**

ç‚¹å‡»"åˆ›å»ºPull Request"æŒ‰é’®ã€‚

#### ä»£ç å®¡æŸ¥ï¼ˆCode Reviewï¼‰

åˆ›å»ºPRåï¼Œå®¡æŸ¥è€…ä¼šè¿›è¡Œä»£ç å®¡æŸ¥ã€‚

**å®¡æŸ¥è€…çš„èŒè´£ï¼š**

âœ… **åŠŸèƒ½æ£€æŸ¥**

- åŠŸèƒ½æ˜¯å¦ç¬¦åˆéœ€æ±‚
- æ˜¯å¦å®ç°äº†Issueä¸­çš„æ‰€æœ‰è¦æ±‚
- è¾¹ç•Œæƒ…å†µæ˜¯å¦å¤„ç†

âœ… **ä»£ç è´¨é‡**

- ä»£ç é£æ ¼æ˜¯å¦ä¸€è‡´
- å‘½åæ˜¯å¦è§„èŒƒ
- é€»è¾‘æ˜¯å¦æ¸…æ™°
- æœ‰æ— é‡å¤ä»£ç 

âœ… **å®‰å…¨æ€§**

- æ˜¯å¦æœ‰å®‰å…¨æ¼æ´
- è¾“å…¥éªŒè¯æ˜¯å¦å……åˆ†
- æ˜¯å¦æœ‰é£é™©ä»£ç 

âœ… **æ€§èƒ½**

- æ˜¯å¦æœ‰æ€§èƒ½é—®é¢˜
- ç®—æ³•å¤æ‚åº¦æ˜¯å¦åˆç†
- æ˜¯å¦æœ‰ä¸å¿…è¦çš„æŸ¥è¯¢

âœ… **æµ‹è¯•**

- æµ‹è¯•è¦†ç›–æ˜¯å¦å……åˆ†
- æµ‹è¯•ç”¨ä¾‹æ˜¯å¦åˆç†

âœ… **æ–‡æ¡£**

- æ³¨é‡Šæ˜¯å¦æ¸…æ™°
- APIæ–‡æ¡£æ˜¯å¦æ›´æ–°

**å¦‚ä½•æ·»åŠ è¯„è®ºï¼š**

1. **è¡Œçº§è¯„è®º**

   - åœ¨ä»£ç å·®å¼‚è§†å›¾ä¸­ï¼Œç‚¹å‡»è¡Œå·æ—çš„ `+`
   - è¾“å…¥è¯„è®º
   - å¯ä»¥é€‰æ‹©"å•æ¡è¯„è®º"æˆ–"å¼€å§‹å®¡æŸ¥"
2. **æ•´ä½“è¯„è®º**

   - åœ¨PRé¡µé¢åº•éƒ¨çš„è¯„è®ºæ¡†
   - è¾“å…¥æ•´ä½“å»ºè®®
3. **å»ºè®®ä¿®æ”¹**

   ```markdown
   è¿™é‡Œå»ºè®®ä½¿ç”¨æ›´æ¸…æ™°çš„å˜é‡åï¼š
   ```python
   # å»ºè®®æ”¹ä¸º
   user_email = form.get('email')
   ```

**å®¡æŸ¥ç»“æœç±»å‹ï¼š**

- âœ… **æ‰¹å‡†ï¼ˆApproveï¼‰**ï¼šä»£ç æ²¡é—®é¢˜ï¼Œå¯ä»¥åˆå¹¶
- ğŸ’¬ **è¯„è®ºï¼ˆCommentï¼‰**ï¼šæœ‰å»ºè®®ä½†ä¸é˜»æ­¢åˆå¹¶
- âŒ **è¯·æ±‚ä¿®æ”¹ï¼ˆRequest Changesï¼‰**ï¼šå¿…é¡»ä¿®æ”¹åæ‰èƒ½åˆå¹¶

#### å¤„ç†å®¡æŸ¥æ„è§

ä½œä¸ºPRæäº¤è€…ï¼Œæ”¶åˆ°å®¡æŸ¥æ„è§åï¼š

**ç¬¬1æ­¥ï¼šæŸ¥çœ‹è¯„è®º**

- ä»”ç»†é˜…è¯»æ‰€æœ‰è¯„è®º
- ç†è§£å®¡æŸ¥è€…çš„å…³æ³¨ç‚¹

**ç¬¬2æ­¥ï¼šè¿›è¡Œä¿®æ”¹**

```bash
# åœ¨åŒä¸€ä¸ªfeatureåˆ†æ”¯ä¸Šä¿®æ”¹
git checkout feature/issue-123-user-registration

# æ ¹æ®åé¦ˆä¿®æ”¹ä»£ç 
# ç¼–è¾‘æ–‡ä»¶...

# æäº¤ä¿®æ”¹
git add .
git commit -m "refactor: æ ¹æ®code reviewä¼˜åŒ–å˜é‡å‘½å"

# æ¨é€ï¼ˆä¼šè‡ªåŠ¨æ›´æ–°PRï¼‰
git push
```

> ğŸ’¡ **æç¤º**ï¼šæ¨é€åï¼ŒPRä¼šè‡ªåŠ¨æ›´æ–°ï¼Œå®¡æŸ¥è€…ä¼šæ”¶åˆ°é€šçŸ¥ã€‚

**ç¬¬3æ­¥ï¼šå›å¤è¯„è®º**

- å¯¹æ¯æ¡è¯„è®ºè¿›è¡Œå›å¤
- è¯´æ˜ä½ å¦‚ä½•å¤„ç†äº†è¿™ä¸ªé—®é¢˜
- å¯ä»¥ä½¿ç”¨"Resolve conversation"æ ‡è®°ä¸ºå·²è§£å†³

**ç¬¬4æ­¥ï¼šè¯·æ±‚é‡æ–°å®¡æŸ¥**

- ä¿®æ”¹å®Œæˆåï¼Œåœ¨PRä¸­@å®¡æŸ¥è€…
- æˆ–ç‚¹å‡»"Re-request review"

#### åˆå¹¶PRçš„æ—¶æœº

PRå¯ä»¥åˆå¹¶çš„æ¡ä»¶ï¼š

- âœ… æ‰€æœ‰å¿…éœ€çš„å®¡æŸ¥è€…éƒ½å·²æ‰¹å‡†
- âœ… CI/CDæµ‹è¯•å…¨éƒ¨é€šè¿‡
- âœ… æ²¡æœ‰æœªè§£å†³çš„å†²çª
- âœ… æ‰€æœ‰"Request Changes"éƒ½å·²å¤„ç†

#### åˆå¹¶ç­–ç•¥é€‰æ‹©

Giteaæä¾›ä¸‰ç§åˆå¹¶ç­–ç•¥ï¼š

**1. Merge Commitï¼ˆæ ‡å‡†åˆå¹¶ï¼‰**

```bash
# ç›¸å½“äº
git merge --no-ff feature-branch
```

**ç‰¹ç‚¹ï¼š**

- ä¿ç•™å®Œæ•´çš„æäº¤å†å²
- åˆ›å»ºä¸€ä¸ªmerge commit
- å¯ä»¥çœ‹åˆ°åˆ†æ”¯çš„å®Œæ•´æ¼”è¿›

**å†å²å›¾ï¼š**

```
main:     â—â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â—
                       â•±
feature: â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â”€â•¯
```

**é€‚ç”¨åœºæ™¯ï¼š**

- æƒ³ä¿ç•™å®Œæ•´çš„å¼€å‘å†å²
- æƒ³çœ‹åˆ°åŠŸèƒ½æ˜¯åœ¨å“ªä¸ªåˆ†æ”¯å¼€å‘çš„

**2. Squash and Mergeï¼ˆå‹ç¼©åˆå¹¶ï¼‰**

```bash
# ç›¸å½“äº
git merge --squash feature-branch
```

**ç‰¹ç‚¹ï¼š**

- å°†featureåˆ†æ”¯çš„æ‰€æœ‰commitå‹ç¼©æˆä¸€ä¸ª
- ä¸»åˆ†æ”¯å†å²æ›´ç®€æ´
- ä¸¢å¤±åˆ†æ”¯å†…éƒ¨çš„æäº¤å†å²

**å†å²å›¾ï¼š**

```
main: â—â”€â”€â”€â”€â”€â”€â”€â—
              â”‚
        (åŒ…å«æ‰€æœ‰æ”¹åŠ¨)
```

**é€‚ç”¨åœºæ™¯ï¼š**

- åŠŸèƒ½åˆ†æ”¯æœ‰å¾ˆå¤šçç¢çš„commit
- æƒ³ä¿æŒä¸»åˆ†æ”¯å†å²ç®€æ´
- æ¯ä¸ªmergeä»£è¡¨ä¸€ä¸ªå®Œæ•´åŠŸèƒ½

**3. Rebase and Mergeï¼ˆå˜åŸºåˆå¹¶ï¼‰**

```bash
# ç›¸å½“äº
git rebase main feature-branch
git merge --ff-only feature-branch
```

**ç‰¹ç‚¹ï¼š**

- ä¿ç•™æ‰€æœ‰commitï¼Œä½†æ•´ç†æˆçº¿æ€§å†å²
- æ²¡æœ‰merge commit
- çœ‹èµ·æ¥åƒåœ¨ä¸»åˆ†æ”¯ä¸Šç›´æ¥å¼€å‘

**å†å²å›¾ï¼š**

```
main: â—â”€â”€â”€â—â”€â”€â”€â—â”€â”€â”€â—
          â”‚   â”‚   â”‚
     æ¥è‡ªfeatureçš„commits
```

**é€‚ç”¨åœºæ™¯ï¼š**

- æƒ³è¦çº¿æ€§çš„å†å²
- commitéƒ½å¾ˆæœ‰æ„ä¹‰ï¼Œä¸æƒ³å‹ç¼©
- å›¢é˜Ÿä¹ æƒ¯çº¿æ€§å†å²

**é€‰æ‹©å»ºè®®ï¼š**

| åœºæ™¯             | æ¨èç­–ç•¥         | åŸå›          |
| ---------------- | ---------------- | ------------ |
| ä¸»è¦åŠŸèƒ½å¼€å‘     | Merge Commit     | ä¿ç•™å®Œæ•´å†å² |
| å°bugä¿®å¤        | Squash and Merge | ç®€åŒ–å†å²     |
| å®Œå–„çš„æäº¤å†å²   | Rebase and Merge | ä¿æŒçº¿æ€§     |
| å¤šäººåä½œçš„å¤§åŠŸèƒ½ | Merge Commit     | è¿½æº¯å†å²     |

#### åœ¨Giteaä¸Šåˆå¹¶PR

**æ­¥éª¤ï¼š**

1. **ç¡®è®¤æ‰€æœ‰æ£€æŸ¥é€šè¿‡**

   - å®¡æŸ¥å·²æ‰¹å‡†ï¼šâœ…
   - CIæµ‹è¯•é€šè¿‡ï¼šâœ…
   - æ²¡æœ‰å†²çªï¼šâœ…
2. **é€‰æ‹©åˆå¹¶ç­–ç•¥**

   - ç‚¹å‡»"Merge Pull Request"æ—çš„ä¸‹æ‹‰ç®­å¤´
   - é€‰æ‹©åˆå¹¶æ–¹å¼
3. **å¡«å†™åˆå¹¶ä¿¡æ¯**

   - ç¼–è¾‘merge commitçš„ä¿¡æ¯ï¼ˆå¦‚æœéœ€è¦ï¼‰
4. **ç‚¹å‡»"Confirm Merge"**
5. **åˆ é™¤æºåˆ†æ”¯**

   - åˆå¹¶åä¼šæç¤ºæ˜¯å¦åˆ é™¤featureåˆ†æ”¯
   - é€šå¸¸é€‰æ‹©"Delete branch"

### 3.5 å†²çªè§£å†³å®æˆ˜ï¼šå½“ä¸¤ä¸ªç©å®¶ä¿®æ”¹äº†åŒä¸€ä¸ªåœ°æ–¹

#### ä»€ä¹ˆæ˜¯å†²çªï¼Ÿ

**å†²çªï¼ˆConflictï¼‰**å‘ç”Ÿåœ¨ä¸¤ä¸ªåˆ†æ”¯ä¿®æ”¹äº†åŒä¸€æ–‡ä»¶çš„åŒä¸€éƒ¨åˆ†ï¼ŒGitæ— æ³•è‡ªåŠ¨åˆå¹¶ã€‚

**æ¸¸æˆç±»æ¯”ï¼š**
ä¸¤ä¸ªç©å®¶åŒæ—¶æ¥å—äº†åŒä¸€ä¸ªä»»åŠ¡ï¼Œä½†é‡‡ç”¨äº†ä¸åŒçš„è§£å†³æ–¹æ¡ˆã€‚æ¸¸æˆç­–åˆ’éœ€è¦ä½ ä»¬å•†é‡ä¸€ä¸‹ï¼Œå†³å®šé‡‡ç”¨å“ªä¸ªæ–¹æ¡ˆï¼Œæˆ–è€…ç»“åˆä¸¤è€…ã€‚

#### å†²çªçš„äº§ç”Ÿåœºæ™¯

**åœºæ™¯1ï¼šä¸¤ä¸ªåˆ†æ”¯ä¿®æ”¹äº†åŒä¸€è¡Œ**

```
mainåˆ†æ”¯ï¼š
def calculate(a, b):
    return a + b + 10  # å¼€å‘è€…Aæ·»åŠ äº†+10

featureåˆ†æ”¯ï¼š
def calculate(a, b):
    return a + b * 2   # å¼€å‘è€…Bæ”¹æˆäº†*2
```

**åœºæ™¯2ï¼šä¸€ä¸ªåˆ†æ”¯ä¿®æ”¹ï¼Œä¸€ä¸ªåˆ†æ”¯åˆ é™¤**

```
mainåˆ†æ”¯ï¼š
ä¿ç•™æ–‡ä»¶ä½†ä¿®æ”¹äº†å†…å®¹

featureåˆ†æ”¯ï¼š
åˆ é™¤äº†æ–‡ä»¶
```

**åœºæ™¯3ï¼šä¸¤ä¸ªåˆ†æ”¯éƒ½ä¿®æ”¹äº†é‚»è¿‘çš„ä»£ç **

æœ‰æ—¶å€™å³ä½¿ä¸æ˜¯åŒä¸€è¡Œï¼ŒGitä¹Ÿå¯èƒ½äº§ç”Ÿå†²çªã€‚

#### å†²çªæ ‡è®°ç¬¦å·è§£è¯»

å½“å‘ç”Ÿå†²çªæ—¶ï¼ŒGitä¼šåœ¨æ–‡ä»¶ä¸­æ·»åŠ å†²çªæ ‡è®°ï¼š

```python
def calculate(a, b):
<<<<<<< HEAD
    return a + b + 10  # å½“å‰åˆ†æ”¯(HEAD)çš„ç‰ˆæœ¬
=======
    return a + b * 2   # è¦åˆå¹¶è¿›æ¥çš„ç‰ˆæœ¬
>>>>>>> feature/calculation
```

**æ ‡è®°è¯´æ˜ï¼š**

- `<<<<<<< HEAD`ï¼šå½“å‰åˆ†æ”¯çš„å†…å®¹å¼€å§‹
- `=======`ï¼šåˆ†éš”çº¿
- `>>>>>>> feature/calculation`ï¼šè¦åˆå¹¶çš„åˆ†æ”¯å†…å®¹ç»“æŸ

#### æ‰‹åŠ¨è§£å†³å†²çªæ­¥éª¤

**åœºæ™¯ï¼šåˆå¹¶featureåˆ†æ”¯åˆ°developæ—¶å‘ç”Ÿå†²çª**

```bash
# å°è¯•åˆå¹¶
git checkout develop
git merge feature/calculation
```

è¾“å‡ºï¼š

```
Auto-merging calculator.py
CONFLICT (content): Merge conflict in calculator.py
Automatic merge failed; fix conflicts and then commit the result.
```

**ç¬¬1æ­¥ï¼šæŸ¥çœ‹å†²çªæ–‡ä»¶**

```bash
git status
```

è¾“å‡ºï¼š

```
Unmerged paths:
  (use "git add <file>..." to mark resolution)
        both modified:   calculator.py
```

**ç¬¬2æ­¥ï¼šæ‰“å¼€å†²çªæ–‡ä»¶**

```python
# calculator.py
def add(a, b):
    return a + b

def calculate(a, b):
<<<<<<< HEAD
    return a + b + 10  # developåˆ†æ”¯ï¼šæ·»åŠ 10
=======
    return a + b * 2   # featureåˆ†æ”¯ï¼šä¹˜ä»¥2
>>>>>>> feature/calculation

def multiply(a, b):
    return a * b
```

**ç¬¬3æ­¥ï¼šæ‰‹åŠ¨ç¼–è¾‘ï¼Œä¿ç•™æ­£ç¡®çš„å†…å®¹**

æ ¹æ®å®é™…æƒ…å†µå†³å®šå¦‚ä½•å¤„ç†ï¼š

**é€‰æ‹©1ï¼šä¿ç•™developçš„ç‰ˆæœ¬**

```python
def calculate(a, b):
    return a + b + 10
```

**é€‰æ‹©2ï¼šä¿ç•™featureçš„ç‰ˆæœ¬**

```python
def calculate(a, b):
    return a + b * 2
```

**é€‰æ‹©3ï¼šç»“åˆä¸¤è€…**

```python
def calculate(a, b):
    # æ—¢ä¹˜ä»¥2åˆåŠ 10
    return a * 2 + b * 2 + 10
```

**é€‰æ‹©4ï¼šå®Œå…¨é‡å†™**

```python
def calculate(a, b, mode='add'):
    if mode == 'multiply':
        return a * b * 2
    else:
        return a + b + 10
```

**ç¬¬4æ­¥ï¼šåˆ é™¤å†²çªæ ‡è®°**

ç¡®ä¿åˆ é™¤æ‰€æœ‰çš„ `<<<<<<<`ã€`=======`ã€`>>>>>>>` æ ‡è®°ã€‚

**ç¬¬5æ­¥ï¼šæ ‡è®°ä¸ºå·²è§£å†³**

```bash
git add calculator.py
```

**ç¬¬6æ­¥ï¼šå®Œæˆåˆå¹¶**

```bash
git commit -m "merge: åˆå¹¶feature/calculationï¼Œé‡‡ç”¨ç»„åˆæ–¹æ¡ˆ"
```

> ğŸ’¡ **æç¤º**ï¼šå¦‚æœæœ‰å¤šä¸ªæ–‡ä»¶å†²çªï¼Œéœ€è¦é€ä¸ªè§£å†³ã€‚

**ç¬¬7æ­¥ï¼šæ¨é€**

```bash
git push
```

#### ä½¿ç”¨å·¥å…·è§£å†³å†²çª

æ‰‹åŠ¨ç¼–è¾‘å¯¹å¤æ‚å†²çªå¯èƒ½å¾ˆå›°éš¾ï¼Œå¯ä»¥ä½¿ç”¨ä¸“é—¨çš„å·¥å…·ã€‚

**1. VS Codeå†…ç½®å†²çªè§£å†³**

VS Codeä¼šé«˜äº®æ˜¾ç¤ºå†²çªï¼Œå¹¶æä¾›æŒ‰é’®ï¼š

- "Accept Current Change"ï¼šä¿ç•™å½“å‰åˆ†æ”¯
- "Accept Incoming Change"ï¼šä¿ç•™ä¼ å…¥åˆ†æ”¯
- "Accept Both Changes"ï¼šä¿ç•™åŒæ–¹
- "Compare Changes"ï¼šå¯¹æ¯”æŸ¥çœ‹

**2. å‘½ä»¤è¡Œå·¥å…·ï¼šgit mergetool**

```bash
# ä½¿ç”¨é»˜è®¤çš„åˆå¹¶å·¥å…·
git mergetool

# é…ç½®ä½¿ç”¨ç‰¹å®šå·¥å…·ï¼ˆå¦‚meldï¼‰
git config --global merge.tool meld
git mergetool
```

**3. å›¾å½¢åŒ–å·¥å…·**

- **Meld**ï¼šLinux/Windowsçš„å¯è§†åŒ–diffå’Œmergeå·¥å…·
- **P4Merge**ï¼šPerforceçš„å…è´¹mergeå·¥å…·
- **KDiff3**ï¼šè·¨å¹³å°çš„diffå·¥å…·
- **SourceTree**ï¼šå†…ç½®åˆå¹¶å·¥å…·

#### Pull Requestä¸­çš„å†²çªè§£å†³

å¦‚æœPRæ˜¾ç¤ºæœ‰å†²çªï¼Œæ— æ³•è‡ªåŠ¨åˆå¹¶ï¼š

**æ–¹æ³•1ï¼šåœ¨æœ¬åœ°è§£å†³ï¼ˆæ¨èï¼‰**

```bash
# 1. ç¡®ä¿featureåˆ†æ”¯æ˜¯æœ€æ–°çš„
git checkout feature/your-feature
git pull

# 2. æ‹‰å–ç›®æ ‡åˆ†æ”¯çš„æœ€æ–°ä»£ç 
git fetch origin
git merge origin/develop
# æˆ–ä½¿ç”¨ rebase
git rebase origin/develop

# 3. è§£å†³å†²çª
# ç¼–è¾‘æ–‡ä»¶...
git add .
git commit -m "resolve: è§£å†³ä¸developçš„åˆå¹¶å†²çª"
# å¦‚æœæ˜¯rebaseï¼Œä½¿ç”¨ï¼š
git rebase --continue

# 4. æ¨é€
git push
# å¦‚æœæ˜¯rebaseï¼Œå¯èƒ½éœ€è¦å¼ºåˆ¶æ¨é€
git push --force-with-lease
```

**æ–¹æ³•2ï¼šä½¿ç”¨Giteaç½‘é¡µè§£å†³ï¼ˆç®€å•å†²çªï¼‰**

æœ‰äº›Giteaç‰ˆæœ¬æ”¯æŒåœ¨ç½‘é¡µä¸Šè§£å†³ç®€å•å†²çªï¼š

1. åœ¨PRé¡µé¢ç‚¹å‡»"Resolve Conflicts"
2. åœ¨ç½‘é¡µç¼–è¾‘å™¨ä¸­ç¼–è¾‘
3. æ ‡è®°ä¸ºå·²è§£å†³
4. æäº¤

#### é¢„é˜²å†²çªçš„æœ€ä½³å®è·µ

âœ… **é¢‘ç¹åŒæ­¥ä¸»åˆ†æ”¯**

```bash
# æ¯å¤©å¼€å§‹å·¥ä½œå‰
git checkout feature/your-feature
git fetch origin
git merge origin/develop  # æˆ– git rebase origin/develop
```

âœ… **å°æ­¥æäº¤ï¼Œé¢‘ç¹æ¨é€**

- ä¸è¦ç§¯ç´¯å¤ªå¤šæ”¹åŠ¨
- å®Œæˆä¸€ä¸ªå°åŠŸèƒ½å°±æäº¤å¹¶æ¨é€

âœ… **åŠŸèƒ½åˆ†å·¥æ˜ç¡®**

- å°½é‡ä¸åŒçš„äººæ”¹ä¸åŒçš„æ–‡ä»¶
- å¦‚æœå¿…é¡»æ”¹åŒä¸€æ–‡ä»¶ï¼Œäº‹å…ˆæ²Ÿé€š

âœ… **çŸ­ç”Ÿå‘½å‘¨æœŸçš„åˆ†æ”¯**

- ä¸è¦è®©featureåˆ†æ”¯å­˜åœ¨å¤ªä¹…
- å®Œæˆåå°½å¿«åˆå¹¶

âœ… **æ²Ÿé€š**

- å›¢é˜Ÿå†…åŠæ—¶æ²Ÿé€šæ­£åœ¨ä¿®æ”¹çš„ä»£ç 
- ä½¿ç”¨Issueå’ŒPRè®¨è®ºæŠ€æœ¯æ–¹æ¡ˆ

#### å†²çªè§£å†³ç¤ºä¾‹

**å®Œæ•´ç¤ºä¾‹ï¼š**

```bash
# åœºæ™¯ï¼šä¸¤ä¸ªå¼€å‘è€…åŒæ—¶ä¿®æ”¹äº†ç”¨æˆ·è®¤è¯æ¨¡å—

# å¼€å‘è€…Aï¼šåœ¨developåˆ†æ”¯ä¿®æ”¹
git checkout develop
# ä¿®æ”¹ auth.pyï¼Œæ·»åŠ äº†å¯†ç åŠ å¯†åŠŸèƒ½
git add auth.py
git commit -m "feat: æ·»åŠ å¯†ç åŠ å¯†"
git push

# å¼€å‘è€…Bï¼šåœ¨featureåˆ†æ”¯ä¿®æ”¹ï¼ˆä¸çŸ¥é“Açš„ä¿®æ”¹ï¼‰
git checkout feature/add-2fa
# ä¹Ÿä¿®æ”¹äº† auth.pyï¼Œæ·»åŠ äº†åŒå› ç´ è®¤è¯
git add auth.py
git commit -m "feat: æ·»åŠ åŒå› ç´ è®¤è¯"
git push

# å¼€å‘è€…Båˆ›å»ºPRï¼Œå‘ç°æœ‰å†²çª
# åœ¨æœ¬åœ°è§£å†³å†²çªï¼š

git checkout feature/add-2fa
git fetch origin
git merge origin/develop

# è¾“å‡ºï¼šCONFLICT in auth.py

# æ‰“å¼€auth.pyï¼Œçœ‹åˆ°ï¼š
"""
def authenticate(username, password):
<<<<<<< HEAD
    # å¼€å‘è€…Bçš„ä»£ç ï¼šåŒå› ç´ è®¤è¯
    if not verify_2fa(username):
        return False
=======
    # å¼€å‘è€…Açš„ä»£ç ï¼šå¯†ç åŠ å¯†
    password = encrypt_password(password)
>>>>>>> origin/develop
    # åŸæœ‰ä»£ç 
    return check_credentials(username, password)
"""

# è§£å†³æ–¹æ¡ˆï¼šç»“åˆä¸¤è€…
"""
def authenticate(username, password):
    # å…ˆåŠ å¯†å¯†ç ï¼ˆå¼€å‘è€…Açš„åŠŸèƒ½ï¼‰
    password = encrypt_password(password)
    # ç„¶åéªŒè¯åŒå› ç´ è®¤è¯ï¼ˆå¼€å‘è€…Bçš„åŠŸèƒ½ï¼‰
    if not verify_2fa(username):
        return False
    # æœ€åæ£€æŸ¥å‡­æ®
    return check_credentials(username, password)
"""

# æ ‡è®°ä¸ºå·²è§£å†³
git add auth.py
git commit -m "merge: æ•´åˆå¯†ç åŠ å¯†å’ŒåŒå› ç´ è®¤è¯åŠŸèƒ½"
git push

# PRç°åœ¨å¯ä»¥åˆå¹¶äº†
```

### 3.6 å®Œæ•´åä½œåœºæ™¯æ¼”ç¤º

è®©æˆ‘ä»¬é€šè¿‡å®Œæ•´çš„åœºæ™¯æ¥æ¼”ç¤ºGit Flowçš„å®é™…åº”ç”¨ã€‚

#### åœºæ™¯1ï¼šå¼€å‘æ–°åŠŸèƒ½ï¼ˆFeatureæµç¨‹ï¼‰

**èƒŒæ™¯ï¼š**å¼€å‘ä¸€ä¸ªç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½

**ç¬¬1æ­¥ï¼šåˆ›å»ºIssue**

åœ¨Giteaä¸Šåˆ›å»ºIssue #200ï¼š

```
æ ‡é¢˜ï¼šæ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½
æ ‡ç­¾ï¼šfeature, priority:medium
é‡Œç¨‹ç¢‘ï¼šv2.0.0
```

**ç¬¬2æ­¥ï¼šåˆ›å»ºFeatureåˆ†æ”¯**

```bash
# ä»developåˆ›å»ºåˆ†æ”¯
git checkout develop
git pull
git checkout -b feature/issue-200-avatar-upload

# æ¨é€åˆ°è¿œç¨‹
git push -u origin feature/issue-200-avatar-upload
```

**ç¬¬3æ­¥ï¼šå¼€å‘åŠŸèƒ½**

```bash
# ç¬¬ä¸€æ¬¡æäº¤ï¼šæ·»åŠ å‰ç«¯ç»„ä»¶
# åˆ›å»º AvatarUpload.vue
git add src/components/AvatarUpload.vue
git commit -m "feat: åˆ›å»ºå¤´åƒä¸Šä¼ ç»„ä»¶ #200"

# ç¬¬äºŒæ¬¡æäº¤ï¼šæ·»åŠ åç«¯API
# åˆ›å»º avatar_api.py
git add api/avatar_api.py
git commit -m "feat: æ·»åŠ å¤´åƒä¸Šä¼ APIæ¥å£ #200"

# ç¬¬ä¸‰æ¬¡æäº¤ï¼šå›¾ç‰‡å¤„ç†é€»è¾‘
git add utils/image_processor.py
git commit -m "feat: å®ç°å›¾ç‰‡è£å‰ªå’Œå‹ç¼©åŠŸèƒ½ #200"

# æ¨é€åˆ°è¿œç¨‹
git push
```

**ç¬¬4æ­¥ï¼šåŒæ­¥developçš„æ›´æ–°**

åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œdevelopæœ‰äº†æ–°çš„æäº¤ï¼š

```bash
git fetch origin
git rebase origin/develop
# æˆ–è€…
git merge origin/develop

git push
```

**ç¬¬5æ­¥ï¼šåˆ›å»ºPull Request**

åœ¨Giteaä¸Šåˆ›å»ºPRï¼š

```
æ ‡é¢˜ï¼šfeat: æ·»åŠ ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½ (#200)
æºåˆ†æ”¯ï¼šfeature/issue-200-avatar-upload
ç›®æ ‡åˆ†æ”¯ï¼šdevelop

æè¿°ï¼š
Closes #200

## åŠŸèƒ½è¯´æ˜
å®ç°äº†ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½ï¼š
- å‰ç«¯ä¸Šä¼ ç»„ä»¶
- æ”¯æŒå›¾ç‰‡è£å‰ª
- è‡ªåŠ¨å‹ç¼©åˆ°åˆé€‚å¤§å°
- åç«¯å­˜å‚¨å’ŒAPI

## æµ‹è¯•
- [x] å•å…ƒæµ‹è¯•
- [x] é›†æˆæµ‹è¯•
- [x] æ‰‹åŠ¨æµ‹è¯•
```

**ç¬¬6æ­¥ï¼šä»£ç å®¡æŸ¥**

å®¡æŸ¥è€…æå‡ºæ„è§ï¼š

```
ğŸ’¬ @reviewer: å»ºè®®æ·»åŠ æ–‡ä»¶å¤§å°é™åˆ¶
ğŸ’¬ @reviewer: å›¾ç‰‡æ ¼å¼éªŒè¯éœ€è¦åŠ å¼º
```

**ç¬¬7æ­¥ï¼šä¿®æ”¹ä»£ç **

```bash
# æ ¹æ®åé¦ˆä¿®æ”¹
git add .
git commit -m "refactor: æ·»åŠ æ–‡ä»¶å¤§å°å’Œæ ¼å¼éªŒè¯ #200"
git push
```

**ç¬¬8æ­¥ï¼šåˆå¹¶PR**

å®¡æŸ¥é€šè¿‡ï¼Œåˆå¹¶åˆ°developï¼š

- é€‰æ‹©"Squash and Merge"
- åˆ é™¤featureåˆ†æ”¯

```bash
# æœ¬åœ°æ¸…ç†
git checkout develop
git pull
git branch -d feature/issue-200-avatar-upload
```

#### åœºæ™¯2ï¼šå‡†å¤‡å‘å¸ƒç‰ˆæœ¬ï¼ˆReleaseæµç¨‹ï¼‰

**èƒŒæ™¯ï¼š**developåˆ†æ”¯ç§¯ç´¯äº†è¶³å¤Ÿçš„åŠŸèƒ½ï¼Œå‡†å¤‡å‘å¸ƒv2.0.0

**ç¬¬1æ­¥ï¼šåˆ›å»ºReleaseåˆ†æ”¯**

```bash
git checkout develop
git pull
git checkout -b release/2.0.0
git push -u origin release/2.0.0
```

**ç¬¬2æ­¥ï¼šç‰ˆæœ¬å‡†å¤‡å·¥ä½œ**

```bash
# æ›´æ–°ç‰ˆæœ¬å·
echo "VERSION = '2.0.0'" > version.py
git add version.py
git commit -m "chore: bump version to 2.0.0"

# æ›´æ–°CHANGELOG
cat >> CHANGELOG.md << EOF
## v2.0.0 (2025-11-20)

### æ–°åŠŸèƒ½
- ç”¨æˆ·å¤´åƒä¸Šä¼ åŠŸèƒ½ (#200)
- å¯†ç æ‰¾å›åŠŸèƒ½ (#201)
- é‚®ä»¶é€šçŸ¥ç³»ç»Ÿ (#202)

### æ”¹è¿›
- ä¼˜åŒ–é¦–é¡µåŠ è½½é€Ÿåº¦ (#203)
- æ”¹è¿›ç§»åŠ¨ç«¯UI (#204)

### ä¿®å¤
- ä¿®å¤ç™»å½•è¶…æ—¶é—®é¢˜ (#205)
EOF

git add CHANGELOG.md
git commit -m "docs: update CHANGELOG for v2.0.0"

git push
```

**ç¬¬3æ­¥ï¼šæµ‹è¯•é˜¶æ®µ**

æµ‹è¯•å›¢é˜Ÿåœ¨release/2.0.0åˆ†æ”¯ä¸Šæµ‹è¯•ï¼Œå‘ç°bugï¼š

```bash
# ä¿®å¤æµ‹è¯•ä¸­å‘ç°çš„bug
git add .
git commit -m "fix: ä¿®å¤å¤´åƒä¸Šä¼ åœ¨IEæµè§ˆå™¨çš„å…¼å®¹é—®é¢˜"
git push
```

**ç¬¬4æ­¥ï¼šå‡†å¤‡å‘å¸ƒ**

æµ‹è¯•é€šè¿‡ï¼Œå‡†å¤‡å‘å¸ƒï¼š

```bash
# åˆå¹¶åˆ°main
git checkout main
git pull
git merge --no-ff release/2.0.0
git tag -a v2.0.0 -m "Release version 2.0.0"
git push
git push --tags

# åˆå¹¶å›developï¼ˆåŒæ­¥bugä¿®å¤ï¼‰
git checkout develop
git pull
git merge --no-ff release/2.0.0
git push

# åˆ é™¤releaseåˆ†æ”¯
git branch -d release/2.0.0
git push origin --delete release/2.0.0
```

**ç¬¬5æ­¥ï¼šéƒ¨ç½²**

```bash
# åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Š
git clone git@git.yourcompany.com:team/project.git
cd project
git checkout v2.0.0
# éƒ¨ç½²åº”ç”¨...
```

#### åœºæ™¯3ï¼šç´§æ€¥ä¿®å¤çº¿ä¸ŠBugï¼ˆHotfixæµç¨‹ï¼‰

**èƒŒæ™¯ï¼š**ç”Ÿäº§ç¯å¢ƒï¼ˆv2.0.0ï¼‰å‘ç°ä¸¥é‡bugï¼Œç”¨æˆ·æ— æ³•ç™»å½•

**ç¬¬1æ­¥ï¼šåˆ›å»ºIssue**

åœ¨Giteaä¸Šåˆ›å»ºIssue #210ï¼š

```
æ ‡é¢˜ï¼šã€ç´§æ€¥ã€‘ç”¨æˆ·æ— æ³•ç™»å½•
æ ‡ç­¾ï¼šbug, priority:critical
```

**ç¬¬2æ­¥ï¼šåˆ›å»ºHotfixåˆ†æ”¯**

```bash
# ä»mainåˆ›å»ºhotfixåˆ†æ”¯
git checkout main
git pull
git checkout -b hotfix/issue-210-login-fix

git push -u origin hotfix/issue-210-login-fix
```

**ç¬¬3æ­¥ï¼šå¿«é€Ÿä¿®å¤**

```bash
# å®šä½å¹¶ä¿®å¤bug
# ç¼–è¾‘ auth.py
git add auth.py
git commit -m "fix: ä¿®å¤ç™»å½•éªŒè¯é€»è¾‘é”™è¯¯ #210"

# æ·»åŠ æµ‹è¯•
git add test_auth.py
git commit -m "test: æ·»åŠ ç™»å½•éªŒè¯çš„æµ‹è¯•ç”¨ä¾‹ #210"

git push
```

**ç¬¬4æ­¥ï¼šæµ‹è¯•éªŒè¯**

```bash
# è¿è¡Œæµ‹è¯•
pytest test_auth.py

# æœ¬åœ°éªŒè¯ä¿®å¤æ•ˆæœ
```

**ç¬¬5æ­¥ï¼šåˆå¹¶åˆ°mainå’Œdevelop**

```bash
# åˆå¹¶åˆ°main
git checkout main
git pull
git merge --no-ff hotfix/issue-210-login-fix

# æ‰“è¡¥ä¸ç‰ˆæœ¬æ ‡ç­¾
git tag -a v2.0.1 -m "Hotfix: ä¿®å¤ç™»å½•é—®é¢˜"
git push
git push --tags

# åˆå¹¶åˆ°develop
git checkout develop
git pull
git merge --no-ff hotfix/issue-210-login-fix
git push

# åˆ é™¤hotfixåˆ†æ”¯
git branch -d hotfix/issue-210-login-fix
git push origin --delete hotfix/issue-210-login-fix
```

**ç¬¬6æ­¥ï¼šç´§æ€¥éƒ¨ç½²**

```bash
# åœ¨ç”Ÿäº§æœåŠ¡å™¨ä¸Š
cd project
git fetch --tags
git checkout v2.0.1
# é‡å¯åº”ç”¨...
```

**ç¬¬7æ­¥ï¼šé€šçŸ¥**

- å…³é—­Issue #210
- é€šçŸ¥å›¢é˜Ÿå’Œç”¨æˆ·é—®é¢˜å·²ä¿®å¤

#### åœºæ™¯4ï¼šå¤šäººåŒæ—¶å¼€å‘çš„åè°ƒ

**èƒŒæ™¯ï¼š**ä¸‰ä¸ªå¼€å‘è€…åŒæ—¶å¼€å‘ä¸åŒåŠŸèƒ½

**å¼€å‘è€…Aï¼šå¼€å‘æœç´¢åŠŸèƒ½**

```bash
git checkout develop
git pull
git checkout -b feature/search
# å¼€å‘...
git push
# åˆ›å»ºPR...
```

**å¼€å‘è€…Bï¼šå¼€å‘è¯„è®ºåŠŸèƒ½**

```bash
git checkout develop
git pull
git checkout -b feature/comments
# å¼€å‘...
git push
# åˆ›å»ºPR...
```

**å¼€å‘è€…Cï¼šä¼˜åŒ–æ•°æ®åº“**

```bash
git checkout develop
git pull
git checkout -b feature/db-optimization
# å¼€å‘...
git push
# åˆ›å»ºPR...
```

**æ—¶é—´çº¿ï¼š**

```
Day 1:
- ä¸‰äººåŒæ—¶ä»developåˆ›å»ºå„è‡ªçš„featureåˆ†æ”¯

Day 2:
- Açš„PRå…ˆè¢«å®¡æŸ¥é€šè¿‡ï¼Œåˆå¹¶åˆ°develop

Day 3:
- Béœ€è¦åŒæ­¥developçš„æ›´æ–°ï¼ˆåŒ…å«Açš„æ”¹åŠ¨ï¼‰
  git checkout feature/comments
  git merge origin/develop
  
- Cä¹ŸåŒæ­¥developçš„æ›´æ–°
  git checkout feature/db-optimization
  git merge origin/develop

Day 4:
- Bçš„PRè¢«åˆå¹¶åˆ°develop

Day 5:
- Cå†æ¬¡åŒæ­¥ï¼Œè§£å†³ä¸Bçš„æ”¹åŠ¨çš„å†²çª
  git checkout feature/db-optimization
  git merge origin/develop
  # è§£å†³å†²çª...
  
- Cçš„PRè¢«åˆå¹¶
```

**å…³é”®ç‚¹ï¼š**

1. æ¯ä¸ªäººåœ¨ç‹¬ç«‹çš„featureåˆ†æ”¯ä¸Šå·¥ä½œ
2. å®šæœŸåŒæ­¥developçš„æ›´æ–°
3. PRæŒ‰å®Œæˆé¡ºåºé€ä¸ªåˆå¹¶
4. ååˆå¹¶çš„äººè´Ÿè´£è§£å†³å†²çª

#### å®Œæ•´å·¥ä½œæµç¨‹å›¾

```
                    Gitea Issueé¢æ¿
                         â”‚
                         â†“
                   åˆ›å»ºIssue #123
                         â”‚
                         â†“
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
            â”‚                         â”‚
     å¼€å‘æ–°åŠŸèƒ½                    ä¿®å¤Bug
            â”‚                         â”‚
            â†“                         â†“
    ä»developåˆ›å»º              ä»main/developåˆ›å»º
    featureåˆ†æ”¯                hotfixåˆ†æ”¯
            â”‚                         â”‚
            â†“                         â†“
      æœ¬åœ°å¼€å‘å¹¶æäº¤              å¿«é€Ÿä¿®å¤
            â”‚                         â”‚
            â†“                         â†“
    å®šæœŸåŒæ­¥develop              æµ‹è¯•ä¿®å¤æ•ˆæœ
            â”‚                         â”‚
            â†“                         â†“
      æ¨é€åˆ°è¿œç¨‹                  æ¨é€åˆ°è¿œç¨‹
            â”‚                         â”‚
            â†“                         â†“
    åˆ›å»ºPull Request            ç›´æ¥åˆå¹¶æˆ–åˆ›å»ºPR
            â”‚                         â”‚
            â†“                         â†“
      Code Review                åˆå¹¶åˆ°main
            â”‚                         â”‚
            â†“                         â†“
    å¤„ç†å®¡æŸ¥æ„è§                æ‰“hotfixæ ‡ç­¾
            â”‚                         â”‚
            â†“                         â†“
    å®¡æŸ¥é€šè¿‡                   åˆå¹¶åˆ°develop
            â”‚                         â”‚
            â†“                         â†“
   åˆå¹¶åˆ°develop                åˆ é™¤hotfixåˆ†æ”¯
            â”‚                         â”‚
            â†“                         â†“
    åˆ é™¤featureåˆ†æ”¯              éƒ¨ç½²åˆ°ç”Ÿäº§
            â”‚                         â”‚
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚
                         â†“
                  ç§¯ç´¯è¶³å¤ŸåŠŸèƒ½
                         â”‚
                         â†“
               ä»developåˆ›å»ºreleaseåˆ†æ”¯
                         â”‚
                         â†“
              æ›´æ–°ç‰ˆæœ¬å·ã€CHANGELOG
                         â”‚
                         â†“
                    æµ‹è¯•é˜¶æ®µ
                         â”‚
                         â†“
              ä¿®å¤æµ‹è¯•ä¸­å‘ç°çš„bug
                         â”‚
                         â†“
               åˆå¹¶åˆ°mainå’Œdevelop
                         â”‚
                         â†“
                   æ‰“ç‰ˆæœ¬æ ‡ç­¾
                         â”‚
                         â†“
                åˆ é™¤releaseåˆ†æ”¯
                         â”‚
                         â†“
                  éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒ
                         â”‚
                         â†“
                   ğŸ‰ ç‰ˆæœ¬å‘å¸ƒæˆåŠŸ
```

#### å°ç»“ï¼šå›¢é˜Ÿå‰¯æœ¬æ ¸å¿ƒæŠ€èƒ½

æ­å–œä½ æŒæ¡äº†Git Flowå¤šäººåä½œçš„å…¨éƒ¨æŠ€èƒ½ï¼ç°åœ¨ä½ å·²ç»å­¦ä¼šäº†ï¼š

âœ… **Git Flowäº”å¤§åˆ†æ”¯**

- mainï¼šç”Ÿäº§ç¯å¢ƒ
- developï¼šå¼€å‘ç¯å¢ƒ
- featureï¼šåŠŸèƒ½å¼€å‘
- releaseï¼šç‰ˆæœ¬å‘å¸ƒ
- hotfixï¼šç´§æ€¥ä¿®å¤

âœ… **Issueé©±åŠ¨å¼€å‘**

- åˆ›å»ºå’Œç®¡ç†Issue
- å…³è”Issueå’Œåˆ†æ”¯
- åœ¨commitä¸­å¼•ç”¨Issue

âœ… **Pull Requestæµç¨‹**

- åˆ›å»ºPR
- ä»£ç å®¡æŸ¥
- å¤„ç†åé¦ˆ
- åˆå¹¶ç­–ç•¥é€‰æ‹©

âœ… **å†²çªè§£å†³**

- ç†è§£å†²çªäº§ç”ŸåŸå› 
- æ‰‹åŠ¨è§£å†³å†²çª
- ä½¿ç”¨å·¥å…·è¾…åŠ©
- é¢„é˜²å†²çªçš„æœ€ä½³å®è·µ

âœ… **å®Œæ•´åä½œåœºæ™¯**

- Featureå¼€å‘æµç¨‹
- Releaseå‘å¸ƒæµç¨‹
- Hotfixç´§æ€¥ä¿®å¤
- å¤šäººåè°ƒå¼€å‘

ç°åœ¨ï¼Œä½ å·²ç»å…·å¤‡äº†åœ¨å›¢é˜Ÿä¸­é«˜æ•ˆåä½œçš„èƒ½åŠ›ï¼ä½†æ˜¯ï¼Œè¦æˆä¸ºGitå¤§å¸ˆï¼Œè¿˜éœ€è¦æŒæ¡ä¸€äº›å›¢é˜Ÿè§„èŒƒå’Œè¿›é˜¶æŠ€å·§ã€‚åœ¨ä¸‹ä¸€éƒ¨åˆ†ï¼Œæˆ‘ä»¬å°†å­¦ä¹ **å›¢é˜Ÿåä½œè§„èŒƒ**ï¼ŒåŒ…æ‹¬æäº¤ä¿¡æ¯è§„èŒƒã€åˆ†æ”¯å‘½åè§„èŒƒã€PRæè¿°è§„èŒƒç­‰ã€‚

---
