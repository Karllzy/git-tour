# 📚 Docsify在线书籍使用指南

欢迎！这是一份完整的指南，帮助您在本地预览这本Git教程书籍，以及如何部署到GitHub Pages供他人访问。

---

## 🚀 快速开始：本地预览

### 方法一：使用Docsify CLI（推荐）

#### 1. 安装Node.js

如果还没安装Node.js，请先安装：
- 访问：https://nodejs.org/
- 下载并安装LTS版本（长期支持版）

验证安装：
```bash
node --version
npm --version
```

#### 2. 安装Docsify CLI

打开命令行（Windows用PowerShell或CMD），执行：
```bash
npm install -g docsify-cli
```

#### 3. 启动本地服务器

在项目根目录（包含docs文件夹的目录）执行：
```bash
cd docs
docsify serve
```

或者从项目根目录执行：
```bash
docsify serve docs
```

#### 4. 在浏览器中查看

服务器启动后，会显示类似信息：
```
Serving C:\...\docs now.
Listening at http://localhost:3000
```

打开浏览器访问：**http://localhost:3000**

🎉 现在您可以在浏览器中查看这本精美的在线书籍了！

---

### 方法二：使用Python简单HTTP服务器

如果不想安装Node.js，可以使用Python：

#### Python 3.x
```bash
cd docs
python -m http.server 8000
```

#### Python 2.x
```bash
cd docs
python -m SimpleHTTPServer 8000
```

然后访问：**http://localhost:8000**

> ⚠️ **注意**：Python方式功能较简单，推荐使用方法一（Docsify CLI）。

---

### 方法三：使用VS Code Live Server

如果您使用VS Code编辑器：

1. 安装 **Live Server** 插件
2. 在VS Code中打开docs文件夹
3. 右键点击 `index.html`
4. 选择 **"Open with Live Server"**

---

## 🎨 功能特性

您的在线书籍包含以下增强功能：

### ✅ 全文搜索
- 点击搜索框（左上角）
- 输入关键词即可搜索整本书

### ✅ 代码一键复制
- 鼠标悬停在代码块上
- 点击右上角的 **"📋 复制"** 按钮

### ✅ 图片放大查看
- 点击任意图片
- 自动全屏显示
- 再次点击或按ESC退出

### ✅ 分页导航
- 每章末尾有 **"上一章"** 和 **"下一章"** 按钮
- 方便连续阅读

### ✅ 侧边栏目录
- 左侧固定显示章节目录
- 点击快速跳转到相应章节
- 自动高亮当前位置

### ✅ 字数统计
- 页面底部显示字数和阅读时间
- 帮助您规划阅读进度

---

## 📝 修改内容

如果您想修改文档内容：

### 修改主要内容
编辑 `docs/README.md` 文件即可，保存后刷新浏览器查看效果。

### 修改侧边栏导航
编辑 `docs/_sidebar.md` 文件。

### 修改样式和配置
编辑 `docs/index.html` 文件中的：
- `<style>` 标签：自定义样式
- `window.$docsify` 配置：调整功能选项

---

## 🌐 部署到GitHub Pages

将您的书籍发布到互联网，让所有人都能访问！

### 前提条件
- GitHub账号
- Git已安装并配置

### 步骤1：创建GitHub仓库

1. 登录GitHub：https://github.com
2. 点击右上角 **"+"** → **"New repository"**
3. 填写仓库信息：
   - Repository name: `git-gitea-guide`（或其他名称）
   - Public（公开）
   - ✅ Initialize with README（可选）
4. 点击 **"Create repository"**

### 步骤2：推送代码到GitHub

在项目根目录打开终端：

```bash
# 初始化Git仓库（如果还没有）
git init

# 添加所有文件
git add .

# 提交
git commit -m "docs: 初始化Docsify在线书籍"

# 添加远程仓库（替换YOUR_USERNAME和YOUR_REPO）
git remote add origin https://github.com/YOUR_USERNAME/YOUR_REPO.git

# 推送到GitHub
git branch -M main
git push -u origin main
```

### 步骤3：启用GitHub Pages

1. 在GitHub仓库页面，点击 **"Settings"**
2. 左侧菜单找到 **"Pages"**
3. 在 **"Source"** 下选择：
   - Branch: `main`
   - Folder: `/docs`
4. 点击 **"Save"**

### 步骤4：访问您的在线书籍

几分钟后，访问：
```
https://YOUR_USERNAME.github.io/YOUR_REPO/
```

🎉 **恭喜！您的Git教程现在已经在线发布了！**

---

## 🔧 自定义配置

### 修改主题颜色

编辑 `docs/index.html`，找到：
```css
:root {
  --theme-color: #42b983;  /* 修改为您喜欢的颜色 */
}
```

常用颜色：
- 蓝色：`#2c3e50`
- 红色：`#e74c3c`
- 紫色：`#9b59b6`
- 绿色：`#27ae60`

### 添加网站图标

1. 准备一个 `favicon.ico` 文件
2. 放到 `docs/` 目录
3. 在 `docs/index.html` 的 `<head>` 中添加：
```html
<link rel="icon" href="favicon.ico">
```

### 添加封面页

创建 `docs/_coverpage.md`：
```markdown
<!-- _coverpage.md -->

![logo](_media/icon.svg)

# Git版本管理与多人协作

> 从零开始学习Git，像玩游戏一样简单！

- 游戏化学习，轻松上手
- 完整的Git Flow工作流
- 详细的Gitea平台操作

[GitHub](https://github.com/your/repo)
[开始阅读](#第一部分git版本管理基础)
```

然后在 `index.html` 中启用：
```javascript
window.$docsify = {
  coverpage: true,  // 添加这一行
  // ... 其他配置
}
```

### 启用深色模式

在 `docs/index.html` 添加插件：
```html
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/style.min.css">
<script src="//cdn.jsdelivr.net/npm/docsify-darklight-theme@latest/dist/index.min.js"></script>
```

---

## 🔍 常见问题

### Q1: 本地预览时搜索功能不工作？
A: 搜索功能需要通过HTTP服务器访问，不能直接双击`index.html`打开。请使用上述方法一、二或三。

### Q2: 图片无法显示？
A: 
1. 确保图片路径正确（相对于README.md）
2. 确保assets文件夹已复制到docs目录
3. 图片路径应为：`./assets/图片名.png`

### Q3: 修改后不生效？
A: 
1. 确保已保存文件
2. 刷新浏览器（Ctrl+F5强制刷新）
3. 清除浏览器缓存

### Q4: GitHub Pages没有生效？
A: 
1. 等待5-10分钟，GitHub需要构建时间
2. 检查Settings → Pages中是否正确设置了/docs文件夹
3. 确保仓库是Public（公开）的
4. 查看Actions标签页，是否有构建错误

### Q5: 如何更新已部署的版本？
A: 
```bash
# 修改文件后
git add .
git commit -m "docs: 更新内容"
git push

# GitHub会自动重新部署
```

---

## 📦 离线使用

如果需要完全离线使用：

### 1. 下载所有CDN资源

所有CDN链接都在 `docs/index.html` 中，可以：
- 手动下载每个文件到本地
- 修改 `<script src="//cdn...">` 为本地路径

### 2. 使用本地Docsify

```bash
npm install docsify-cli --save-dev
npx docsify serve docs
```

---

## 🎯 进阶功能

### 添加评论功能

使用Gitalk（GitHub Issue评论系统）：

1. 在 `docs/index.html` 底部添加：
```html
<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.css">
<script src="//cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.js"></script>
<script>
  const gitalk = new Gitalk({
    clientID: 'GitHub Application Client ID',
    clientSecret: 'GitHub Application Client Secret',
    repo: 'YOUR_REPO',
    owner: 'YOUR_USERNAME',
    admin: ['YOUR_USERNAME'],
    id: location.pathname,
  })
  gitalk.render('gitalk-container')
</script>
```

### 添加页脚信息

在 `window.$docsify` 配置中添加：
```javascript
plugins: [
  function(hook) {
    hook.beforeEach(function(html) {
      return html + '\n\n----\n\n' +
        '<footer style="text-align: center;">' +
        '<span>Made with ❤️ by Your Name | © 2025</span>' +
        '</footer>'
    })
  }
]
```

### 添加编辑按钮

```javascript
window.$docsify = {
  repo: 'username/repo',
  // 添加这个配置
  plugins: [
    EditOnGithubPlugin.create(
      'https://github.com/username/repo/blob/main/docs/'
    )
  ]
}
```

---

## 📊 网站统计

### Google Analytics

在 `docs/index.html` 中添加：
```javascript
window.$docsify = {
  ga: 'UA-XXXXX-Y',  // 替换为您的GA ID
  // ... 其他配置
}
```

然后添加插件：
```html
<script src="//cdn.jsdelivr.net/npm/docsify@4/lib/plugins/ga.min.js"></script>
```

---

## 🎓 更多资源

- **Docsify官方文档**: https://docsify.js.org
- **Docsify中文文档**: https://docsify.js.org/#/zh-cn/
- **Docsify插件列表**: https://docsify.js.org/#/awesome?id=plugins
- **GitHub Pages文档**: https://pages.github.com/

---

## 💡 提示

- 📝 保持内容更新，定期commit和push
- 🎨 自定义样式让书籍更有个性
- 📱 测试移动端显示效果
- 🔗 分享您的书籍链接给更多人
- ⭐ 如果觉得有用，给项目点个Star！

---

## 📞 需要帮助？

如果遇到问题：
1. 查看Docsify官方文档
2. 搜索相关问题
3. 在GitHub仓库提Issue
4. 加入Docsify社区讨论

---

**祝您使用愉快！Happy Coding! 🚀**

